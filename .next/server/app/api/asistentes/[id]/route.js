"use strict";(()=>{var e={};e.id=159,e.ids=[159],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},70543:(e,t,s)=>{s.r(t),s.d(t,{originalPathname:()=>x,patchFetch:()=>g,requestAsyncStorage:()=>h,routeModule:()=>p,serverHooks:()=>f,staticGenerationAsyncStorage:()=>m});var r={};s.r(r),s.d(r,{DELETE:()=>l,GET:()=>c,PUT:()=>u});var n=s(49303),i=s(88716),o=s(60670),a=s(87070),d=s(38990);async function c(e,{params:t}){try{let{id:e}=t,s=d.Z.findAsistenteById(e);if(!s)return a.NextResponse.json({error:"Asistente no encontrado"},{status:404});return a.NextResponse.json(s)}catch(e){return console.error("Error obteniendo asistente:",e),a.NextResponse.json({error:"Error interno del servidor"},{status:500})}}async function u(e,{params:t}){try{let{id:s}=t,r=await e.json();if(!r.nombre||""===r.nombre.trim())return a.NextResponse.json({error:"El nombre es obligatorio"},{status:400});let n=d.Z.updateAsistente(s,r);if(!n)return a.NextResponse.json({error:"Asistente no encontrado"},{status:404});try{await fetch(`${e.nextUrl.origin}/api/socket.io`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({event:"asistente-actualizado",data:n})})}catch(e){console.error("Error notificando actualizaci\xf3n:",e)}return a.NextResponse.json({success:!0,asistente:n,mensaje:"Asistente actualizado correctamente"})}catch(e){return console.error("Error actualizando asistente:",e),a.NextResponse.json({error:"Error interno del servidor"},{status:500})}}async function l(e,{params:t}){try{let{id:s}=t,r=d.Z.findAsistenteById(s);if(!r)return a.NextResponse.json({error:"Asistente no encontrado"},{status:404});if(!d.Z.deleteAsistente(s))return a.NextResponse.json({error:"No se pudo eliminar el asistente"},{status:500});try{await fetch(`${e.nextUrl.origin}/api/socket.io`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({event:"asistente-eliminado",data:{id:s,nombre:r.nombre}})})}catch(e){console.error("Error notificando eliminaci\xf3n:",e)}return a.NextResponse.json({success:!0,mensaje:`Asistente ${r.nombre} eliminado correctamente`})}catch(e){return console.error("Error eliminando asistente:",e),a.NextResponse.json({error:"Error interno del servidor"},{status:500})}}let p=new n.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/asistentes/[id]/route",pathname:"/api/asistentes/[id]",filename:"route",bundlePath:"app/api/asistentes/[id]/route"},resolvedPagePath:"C:\\Users\\Argenis\\OneDrive - Universidad Nacional de Colombia\\Escritorio\\Proyecto Registros\\src\\app\\api\\asistentes\\[id]\\route.ts",nextConfigOutput:"standalone",userland:r}),{requestAsyncStorage:h,staticGenerationAsyncStorage:m,serverHooks:f}=p,x="/api/asistentes/[id]/route";function g(){return(0,o.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:m})}},38990:(e,t,s)=>{s.d(t,{Z:()=>n});class r{getAsistentes(){return this.asistentes}addAsistente(e){this.asistentes.push(e)}findAsistenteById(e){return this.asistentes.find(t=>t.id===e)}updateAsistente(e,t){let s=this.asistentes.findIndex(t=>t.id===e);return -1===s?null:(this.asistentes[s]={...this.asistentes[s],...t},this.asistentes[s])}deleteAsistente(e){let t=this.asistentes.findIndex(t=>t.id===e);return -1!==t&&(this.asistentes.splice(t,1),!0)}searchAsistentes(e){let t=e.toLowerCase();return this.asistentes.filter(e=>e.nombre.toLowerCase().includes(t)||e.email&&e.email.toLowerCase().includes(t)||e.cargo&&e.cargo.toLowerCase().includes(t)||e.empresa&&e.empresa.toLowerCase().includes(t))}getEstadisticas(){let e=this.asistentes.length,t=this.asistentes.filter(e=>e.presente).length;return{total:e,presentes:t,pendientes:e-t,escarapelasImpresas:this.asistentes.filter(e=>e.escarapelaImpresa).length}}constructor(){this.asistentes=[]}}let n=new r}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[948,972],()=>s(70543));module.exports=r})();