"use strict";(()=>{var e={};e.id=235,e.ids=[235],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},27790:e=>{e.exports=require("assert")},78893:e=>{e.exports=require("buffer")},92048:e=>{e.exports=require("fs")},76162:e=>{e.exports=require("stream")},21764:e=>{e.exports=require("util")},71568:e=>{e.exports=require("zlib")},21544:(e,t,s)=>{s.r(t),s.d(t,{originalPathname:()=>f,patchFetch:()=>x,requestAsyncStorage:()=>g,routeModule:()=>c,serverHooks:()=>h,staticGenerationAsyncStorage:()=>m});var r={};s.r(r),s.d(r,{GET:()=>l,POST:()=>p});var i=s(49303),n=s(88716),a=s(60670),o=s(87070),d=s(28362),u=s(38990);async function l(e,{params:t}){try{let e=t.id,s=u.Z.findAsistenteById(e);if(!s)return o.NextResponse.json({error:"Asistente no encontrado"},{status:404});let r=JSON.stringify({id:s.id,nombre:s.nombre,evento:"registro-eventos",timestamp:new Date().toISOString()}),i=await d.toString(r,{type:"svg",width:256,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}),n=await d.toDataURL(r,{width:256,margin:2});return o.NextResponse.json({success:!0,asistente:{id:s.id,nombre:s.nombre},qrCode:{svg:i,dataUrl:n,data:r}})}catch(e){return console.error("Error generando QR:",e),o.NextResponse.json({error:"Error generando c\xf3digo QR"},{status:500})}}async function p(e,{params:t}){try{let s=t.id,{includeInfo:r=!1}=await e.json(),i=u.Z.findAsistenteById(s);if(!i)return o.NextResponse.json({error:"Asistente no encontrado"},{status:404});let n=r?JSON.stringify({id:i.id,nombre:i.nombre,email:i.email,cargo:i.cargo,empresa:i.empresa,evento:"registro-eventos",timestamp:new Date().toISOString()}):i.id,a=await d.toDataURL(n,{width:512,margin:3,color:{dark:"#1e40af",light:"#ffffff"}});return o.NextResponse.json({success:!0,asistente:{id:i.id,nombre:i.nombre,email:i.email},qrCode:{dataUrl:a,data:n}})}catch(e){return console.error("Error generando QR personalizado:",e),o.NextResponse.json({error:"Error generando c\xf3digo QR personalizado"},{status:500})}}let c=new i.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/qr/generate/[id]/route",pathname:"/api/qr/generate/[id]",filename:"route",bundlePath:"app/api/qr/generate/[id]/route"},resolvedPagePath:"C:\\Users\\Argenis\\OneDrive - Universidad Nacional de Colombia\\Escritorio\\Proyecto Registros\\src\\app\\api\\qr\\generate\\[id]\\route.ts",nextConfigOutput:"standalone",userland:r}),{requestAsyncStorage:g,staticGenerationAsyncStorage:m,serverHooks:h}=c,f="/api/qr/generate/[id]/route";function x(){return(0,a.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:m})}},38990:(e,t,s)=>{s.d(t,{Z:()=>i});class r{getAsistentes(){return this.asistentes}addAsistente(e){this.asistentes.push(e)}findAsistenteById(e){return this.asistentes.find(t=>t.id===e)}updateAsistente(e,t){let s=this.asistentes.findIndex(t=>t.id===e);return -1===s?null:(this.asistentes[s]={...this.asistentes[s],...t},this.asistentes[s])}deleteAsistente(e){let t=this.asistentes.findIndex(t=>t.id===e);return -1!==t&&(this.asistentes.splice(t,1),!0)}searchAsistentes(e){let t=e.toLowerCase();return this.asistentes.filter(e=>e.nombre.toLowerCase().includes(t)||e.email&&e.email.toLowerCase().includes(t)||e.cargo&&e.cargo.toLowerCase().includes(t)||e.empresa&&e.empresa.toLowerCase().includes(t))}getEstadisticas(){let e=this.asistentes.length,t=this.asistentes.filter(e=>e.presente).length;return{total:e,presentes:t,pendientes:e-t,escarapelasImpresas:this.asistentes.filter(e=>e.escarapelaImpresa).length}}constructor(){this.asistentes=[]}}let i=new r}};var t=require("../../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[948,972,362],()=>s(21544));module.exports=r})();