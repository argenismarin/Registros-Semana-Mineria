(()=>{var e={};e.id=585,e.ids=[585],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},60732:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>t.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>d}),r(92675),r(32029),r(35866);var a=r(23191),i=r(88716),n=r(37922),t=r.n(n),o=r(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(s,l);let d=["",{children:["configuracion",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,92675)),"C:\\Users\\Argenis\\OneDrive - Universidad Nacional de Colombia\\Escritorio\\Proyecto Registros\\src\\app\\configuracion\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,32029)),"C:\\Users\\Argenis\\OneDrive - Universidad Nacional de Colombia\\Escritorio\\Proyecto Registros\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\Argenis\\OneDrive - Universidad Nacional de Colombia\\Escritorio\\Proyecto Registros\\src\\app\\configuracion\\page.tsx"],m="/configuracion/page",u={require:r,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/configuracion/page",pathname:"/configuracion",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},95669:(e,s,r)=>{Promise.resolve().then(r.t.bind(r,12994,23)),Promise.resolve().then(r.t.bind(r,96114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,79671,23)),Promise.resolve().then(r.t.bind(r,41868,23)),Promise.resolve().then(r.t.bind(r,84759,23))},87034:(e,s,r)=>{Promise.resolve().then(r.bind(r,88585))},68230:(e,s,r)=>{Promise.resolve().then(r.bind(r,88941))},88941:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});var a=r(10326),i=r(17577),n=r(88585);function t(){let[e,s]=(0,i.useState)({spreasheetId:"",serviceEmail:"",isConfigured:!1}),[r,t]=(0,i.useState)(!0),o=async()=>{try{t(!0);let e=await fetch("/api/configuracion/test-sheets",{method:"POST"}),s=await e.json();s.success?n.Am.success("Conexi\xf3n con Google Sheets exitosa"):n.Am.error("Error conectando con Google Sheets: "+s.error)}catch(e){n.Am.error("Error probando conexi\xf3n")}finally{t(!1)}};return r?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-event-blue text-white p-4",children:(0,a.jsxs)("div",{className:"container mx-auto",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Configuraci\xf3n del Sistema"}),a.jsx("p",{className:"text-blue-100",children:"Configurar Google Sheets y otras integraciones"})]})}),a.jsx("main",{className:"container mx-auto p-4",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Google Sheets"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${e.isConfigured?"bg-green-500":"bg-red-500"}`}),a.jsx("span",{className:`text-sm font-medium ${e.isConfigured?"text-green-700":"text-red-700"}`,children:e.isConfigured?"Configurado":"No configurado"})]})]}),e.isConfigured?(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-medium text-green-800 mb-2",children:"✅ Configuraci\xf3n activa"}),(0,a.jsxs)("div",{className:"text-sm text-green-700 space-y-1",children:[(0,a.jsxs)("p",{children:[a.jsx("strong",{children:"Spreadsheet ID:"})," ",e.spreasheetId]}),(0,a.jsxs)("p",{children:[a.jsx("strong",{children:"Service Account:"})," ",e.serviceEmail]})]})]}),a.jsx("button",{onClick:o,disabled:r,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-medium py-2 px-4 rounded-md transition duration-200",children:r?"Probando...":"\uD83D\uDD17 Probar conexi\xf3n"})]}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-medium text-red-800 mb-2",children:"❌ Google Sheets no configurado"}),a.jsx("p",{className:"text-sm text-red-700",children:"Para habilitar la sincronizaci\xf3n con Google Sheets, necesitas configurar las variables de entorno."})]}),(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-medium text-blue-800 mb-3",children:"\uD83D\uDCCB Pasos para configurar:"}),(0,a.jsxs)("ol",{className:"text-sm text-blue-700 space-y-2 list-decimal list-inside",children:[(0,a.jsxs)("li",{children:["Ve a ",a.jsx("a",{href:"https://console.cloud.google.com/",target:"_blank",className:"underline",children:"Google Cloud Console"})]}),a.jsx("li",{children:"Crea un nuevo proyecto o selecciona uno existente"}),(0,a.jsxs)("li",{children:["Habilita la ",a.jsx("strong",{children:"Google Sheets API"})]}),(0,a.jsxs)("li",{children:["Crea credenciales de ",a.jsx("strong",{children:"cuenta de servicio"})]}),a.jsx("li",{children:"Descarga el archivo JSON de credenciales"}),a.jsx("li",{children:"Crea una hoja de Google Sheets"}),a.jsx("li",{children:"Comparte la hoja con el email de la cuenta de servicio"}),a.jsx("li",{children:"Configura las variables de entorno:"})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Variables de entorno (.env.local):"}),a.jsx("pre",{className:"text-xs text-gray-600 bg-gray-100 p-3 rounded overflow-x-auto",children:`GOOGLE_SHEETS_SPREADSHEET_ID=tu_spreadsheet_id_aqui
GOOGLE_SERVICE_ACCOUNT_EMAIL=tu-cuenta@proyecto.iam.gserviceaccount.com  
GOOGLE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\\ntu_clave_aqui\\n-----END PRIVATE KEY-----"`})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"HTTPS para C\xe1mara en M\xf3viles"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-medium text-yellow-800 mb-2",children:"\uD83D\uDCF1 Permisos de c\xe1mara en m\xf3viles"}),a.jsx("p",{className:"text-sm text-yellow-700 mb-3",children:"Los navegadores m\xf3viles requieren HTTPS para acceder a la c\xe1mara. Para desarrollo local, puedes usar:"}),a.jsx("div",{className:"bg-gray-100 p-2 rounded text-sm font-mono",children:"npm run dev:https"})]}),(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-medium text-blue-800 mb-2",children:"\uD83C\uDF10 Para producci\xf3n:"}),(0,a.jsxs)("ul",{className:"text-sm text-blue-700 space-y-1 list-disc list-inside",children:[a.jsx("li",{children:"Despliega en un servidor con HTTPS (Vercel, Netlify, etc.)"}),(0,a.jsxs)("li",{children:["Usa ngrok para t\xfanel HTTPS local: ",a.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"ngrok http 3000"})]}),a.jsx("li",{children:"Configura un certificado SSL en tu servidor"})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Estado del Sistema"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:"\uD83D\uDCBE Base de datos"}),a.jsx("p",{className:"text-sm text-gray-600",children:"En memoria (se reinicia con el servidor)"})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:"\uD83D\uDD04 Sincronizaci\xf3n"}),a.jsx("p",{className:"text-sm text-gray-600",children:e.isConfigured?"Google Sheets activo":"Solo local"})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:"\uD83D\uDCF1 Scanner QR"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Disponible con c\xe1mara"})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:"\uD83D\uDDA8️ Impresi\xf3n"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Escarapelas y c\xf3digos QR"})]})]})]}),a.jsx("div",{className:"text-center",children:a.jsx("a",{href:"/",className:"inline-flex items-center gap-2 bg-event-blue hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition duration-200",children:"← Volver al registro"})})]})})]})}},92675:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>a});let a=(0,r(68570).createProxy)(String.raw`C:\Users\Argenis\OneDrive - Universidad Nacional de Colombia\Escritorio\Proyecto Registros\src\app\configuracion\page.tsx#default`)},32029:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>l,metadata:()=>o});var a=r(19510),i=r(25384),n=r.n(i);r(5023);var t=r(96557);r(97001);let o={title:"Registro de Eventos",description:"Plataforma de registro de eventos en tiempo real",manifest:"/manifest.json",themeColor:"#1e40af",viewport:"width=device-width, initial-scale=1, maximum-scale=1"};function l({children:e}){return(0,a.jsxs)("html",{lang:"es",children:[(0,a.jsxs)("head",{children:[a.jsx("link",{rel:"icon",href:"/favicon.ico"}),a.jsx("link",{rel:"apple-touch-icon",href:"/icon-192x192.png"}),a.jsx("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),a.jsx("meta",{name:"apple-mobile-web-app-status-bar-style",content:"default"}),a.jsx("meta",{name:"apple-mobile-web-app-title",content:"Registro Eventos"})]}),(0,a.jsxs)("body",{className:n().className,children:[e,a.jsx(t.Ix,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})]})}},5023:()=>{}};var s=require("../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),a=s.X(0,[948,700],()=>r(60732));module.exports=a})();